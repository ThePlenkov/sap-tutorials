---
---

<div class="relative w-full">
  <input 
    type="text" 
    id="search-input"
    placeholder="Search tutorials..."
    class="w-full px-4 py-2 pl-10 rounded-lg bg-background-alt text-text border-2 border-border focus:border-accent focus:ring-2 focus:ring-accent/20 placeholder-text-light transition-all"
  />
  <svg 
    class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-light" 
    aria-hidden="true"
    fill="none" 
    stroke="currentColor" 
    viewBox="0 0 24 24"
  >
    <path 
      stroke-linecap="round" 
      stroke-linejoin="round" 
      stroke-width="2" 
      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
    />
  </svg>

  <!-- Search Results Dropdown -->
  <div 
    id="search-results"
    class="absolute z-50 left-0 right-0 mt-2 bg-background-alt dark:bg-background-alt rounded-lg shadow-lg border border-border dark:border-border max-h-96 overflow-y-auto hidden"
  >
    <!-- Results will be populated here -->
  </div>
</div>

<script>
  import { initSearch } from '../lib/search';

  // Initialize search when the page loads
  initSearch();

  // Re-initialize when the page content updates (for client-side navigation)
  document.addEventListener('astro:page-load', initSearch);
</script>