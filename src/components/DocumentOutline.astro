---
interface Props {
  headings: {
    depth: number;
    slug: string;
    text: string;
  }[];
}

const { headings } = Astro.props;
---

<aside class="w-64 shrink-0 hidden xl:block p-6">
  <nav class="sticky top-6">
    <h3 class="font-semibold mb-4 text-gray-900 dark:text-gray-100">On this page</h3>
    <ul class="space-y-2">
      {headings.map((heading) => (
        <li>
          <a
            href={`#${heading.slug}`}
            class:list={[
              "block text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",
              {
                "pl-4": heading.depth === 2,
                "pl-8": heading.depth === 3
              }
            ]}
          >
            {heading.text}
          </a>
        </li>
      ))}
    </ul>
  </nav>
</aside>